

![image-removebg](README.assets/image-removebg.png) 

在此方世界中，灵气充沛，天眷者通过修仙不断强化自身，轻而易举获得移山填海、毁天灭地的能力，与此同时无数流派诞生更是丰富了这个世界的修炼体系，修士间互帮互助共同追寻那长生大道，修仙界呈现欣欣向荣的景象，貌似一切都往好的发展？



# 项目概述

自网络游戏出现以来，其发展趋势便势不可挡，可见其受欢迎程度，毕竟相对于死板的ai(或者过于变态的ai)，人更喜欢与真实的人进行交互，这样才能享受博弈的乐趣。

本项目主要用于学习如今网游的开发流程，学习网游关键技术，最终能构建我心中的那个世界。

[目前项目进度演示视频链接](https://www.bilibili.com/video/BV1Rw4m1m7vS/?spm_id_from=333.999.0.0&vd_source=ff929fb8407b30d15d4d258e14043130)



# 注意事项

- 目前已经有了一个发布试玩的版本V1.0.0，我已经开启了云服务器，欢迎大家试玩。(如果服务器挂掉可以提交issue通知我，谢谢你的帮忙)


- 当前最新的提交是跑不动的因为还没修改完毕,如果需要能正常运行的请回滚到这个版本：[[优化\]entity体系优化](https://github.com/lianglllll/MMORPG/commit/f6ffd16b4dfb8d5f54ca9adc12fae552add90e5e)

- 这两天在别的电脑尝试搭建本项目的环境，发现有些问题，如果有需要可以等我完善部署的流程。

# 项目已完成功能

**网络模块**

- 使用谷歌的Protobuf作为数据格式
- 数据接收处理器，用于数据粘包拆包和消息数据提交
- 消息分发路由(多线程)
- session，暂存用户的登录信息，可用于断线重连

**世界心跳Tick**
- 其实就是逻辑更新模块，给游戏逻辑世界提供Tick&提供定时任务

**基础的人物同步**

- 位置同步：移动，旋转
- 属性同步:自身属性、装备属性、buff属性
- 技能同步
- buff同步

**战斗系统**

- 普攻连招系统
- 指向性技能、非指向性技能
- 技能攻击检测：扇形、圆形、矩形
- excel配置技能+脚本自定义技能

**buff系统**
- 正增益、负增益
- excel配置buff+脚本自定义buff

**敌人AI**
- excel配置地图中AI刷怪点
- 使用状态机实现怪物AI：巡逻、追逐、攻击、死亡、返回...

**背包系统**
- 物品：消耗、材料、道具...
- 装备：武器、头盔、胸甲、....

**频道系统**
- 全服

**AOI机制**

- ~~九宫格~~
- 十字链表

**日志模块**

- serilog插件

**热更新**

- yooasset+hybridclr实现

**数据库**

- 使用了mysql数据库

- 使用freeSql ORM框架进行数据库的开发

  





# 现阶段任务

战斗系统

- 需要重构一下战斗系统

背包系统

- 背包界面和装备界面UI需要优化
- 物品使用逻辑需要优化

AI

- 后面需要重构，现阶段ai太笨了

频道系统

- 后面再重构一下整个频道系统。

日志模块

- 我们自己实现一个日志模块

数据库

- 替换掉这个ORM框架，我们直接写操作数据库的逻辑
- 引入radis 加快数据库的查询效率。
- 考虑到这是一个学习项目，我们甚至可以自己手搓一个数据库。






# MMORPG项目结构

**MMO-Client**：unity客户端的源码。

**MMO-SERVER**：服务端C#源代码。

**Tools**：里面有proto工具、excel工具、构建mysql数据库的sql文件。

**note**:是本人在学习项目的时候所做笔记（也迁移了其他知识，基本上我所学做的笔记都在里头了）



# 项目部署运行

1.搭建Mysql数据库版本5.7.24环境。

2.搭建资源服务器环境，这里使用宝塔。

3.server部署，使用net6.0环境

​	具体操作参考个人笔记MMORPG.md，注意要修改config.yaml配置文件。

4.client部署，使用unity 2021.3.5f1c1